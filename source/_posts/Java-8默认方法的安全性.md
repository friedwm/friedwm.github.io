---
title: Java 8é»˜è®¤æ–¹æ³•çš„å®‰å…¨æ€§
date: 2019-03-15 00:22:20
categories:
- java
tags:
- java8
- é»˜è®¤æ–¹æ³•
- å†™ç»™å¤§å¿™äººçœ‹çš„Java 8 SE
- default method
---

# èƒŒæ™¯

ã€Šå†™ç»™å¤§å¿™äººçœ‹çš„Java 8 SEã€‹ç¬¬ä¸€ç« æœ€åä¸€ä¸ªä¹ é¢˜é—®ï¼š
> åœ¨è¿‡å»ï¼Œä½ çŸ¥é“å‘æ¥å£ä¸­æ·»åŠ æ–¹æ³•æ˜¯ä¸€ç§ä¸å¥½çš„å½¢å¼ï¼Œå› ä¸ºå®ƒä¼šç ´åå·²æœ‰çš„ä»£ç ã€‚ç°åœ¨ä½ çŸ¥é“äº†å¯ä»¥å‘æ¥å£æ·»åŠ æ–°æ–¹æ³•ï¼ŒåŒæ—¶èƒ½å¤Ÿæä¾›ä¸€ä¸ªé»˜è®¤çš„å®ç°ã€‚è¿™æ ·åšçš„å®‰å…¨ç¨‹åº¦å¦‚ä½•ï¼Ÿæè¿°ä¸€ä¸ªCollectionæ¥å£çš„æ–°streamæ–¹æ³•ä¼šå¯¼è‡´é—ç•™ä»£ç ç¼–è¯‘å¤±è´¥çš„åœºæ™¯ã€‚äºŒè¿›åˆ¶çš„å…¼å®¹æ€§å¦‚ä½•ï¼ŸJARæ–‡ä»¶ä¸­çš„é—ç•™ä»£ç æ˜¯å¦è¿˜èƒ½è¿è¡Œï¼Ÿ`

ç»™æ¥å£æ·»åŠ é»˜è®¤æ–¹æ³•è¿˜ä¼šå¯¼è‡´è€ä»£ç ç¼–è¯‘å¤±è´¥ï¼ŸğŸ˜² è„‘æµ·é‡Œçš„ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯ï¼Œè¿™TMåœ¨å¼€ç©ç¬‘å§ï¼Ÿè‡³å°‘JDKå®¹å™¨ä»£ç å·²ç»è¿™ä¹ˆåšäº†å‘€ï¼ŒJavaæ·»åŠ æ–°åŠŸèƒ½å…¼å®¹æ€§è‚¯å®šæ˜¯æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œæ¯”å¦‚æ³›å‹ã€‚å†ç»†è¯»ä¸¤éé¢˜å¹²ï¼Œç¡®å®æ˜¯é™ˆè¿°å¥ï¼Œè¿˜ç‰¹åˆ«ç‚¹åäº†streamæ–¹æ³•ï¼Œè¯´æ˜ç¡®æœ‰å…¶äº‹ã€‚

æˆ‘ä¸ç¦é™·å…¥äº†æ²‰æ€ã€‚ã€‚ğŸ˜”ğŸ˜”ğŸ˜”


# è§£ç­”

é¢˜ç›®æœ‰ä¸‰é—®ï¼Œä»¥ä¸‹é€ä¸ªè§£ç­”ï¼š

## streamæ–¹æ³•ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥çš„åœºæ™¯

### é»˜è®¤æ–¹æ³•çš„é™åˆ¶

å¦‚æœä¸€ä¸ªç±»çš„çˆ¶ç±»ã€çˆ¶æ¥å£å«æœ‰ç­¾åç›¸åŒçš„æ–¹æ³•ï¼Œä¸”è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯é»˜è®¤æ–¹æ³•ï¼Œæ­¤æ—¶éœ€è¦è§£å†³å†²çªï¼š

1. å¦‚æœä¸€ä¸ªæ¥å£æä¾›äº†é»˜è®¤æ–¹æ³•ï¼Œçˆ¶ç±»ä¸­ä¹Ÿæœ‰ä¸€ä¸ªå®ç°ï¼Œåˆ™é€‰æ‹©çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚

2. ç±»çš„çˆ¶æ¥å£ä»¬å­˜åœ¨ç›¸åŒçš„æ–¹æ³•ç­¾åï¼ˆä¸”è‡³å°‘æœ‰ä¸€ä¸ªé»˜è®¤æ–¹æ³•ï¼‰ï¼Œåˆ™å¿…é¡»é€šè¿‡è¦†ç›–ï¼ˆæä¾›å®ç°ï¼‰æ¥è§£å†³å†²çª
    * å¯ä»¥åœ¨å®ç°ä¸­è°ƒç”¨æŒ‡å®šçˆ¶æ¥å£çš„é»˜è®¤æ–¹æ³• XXX.super.getName()
    * åªè¦å…¶ä¸­ä¸€ä¸ªæ¥å£æä¾›äº†é»˜è®¤å®ç°å°±éœ€è¦æ‰‹åŠ¨è§£å†³å†²çª

æ€»ç»“èµ·æ¥å°±æ˜¯ï¼šç±»ä¼˜å…ˆåŸåˆ™ï¼Œç±»ä¸­çš„æ–¹æ³•æ€»æ˜¯ä¼˜å…ˆäºé»˜è®¤æ–¹æ³•ã€‚å› æ­¤**ä¸å¯èƒ½**ä¸ºObjectä¸­çš„æ–¹æ³•å®šä¹‰ä¸€ä¸ªé»˜è®¤æ–¹æ³•ã€‚

### è§£é¢˜æ€è·¯

> streamæ–¹æ³•æ˜¯`java.util.Collection`ä¸­çš„é»˜è®¤æ–¹æ³•

ä»æ–¹æ³•ç­¾åå†²çªçš„æ€è·¯å…¥æ‰‹ï¼Œæ‰¾åˆ°ä¸€ç§ç¼–è¯‘é”™è¯¯çš„åœºæ™¯ï¼š

#### åŒåæ–¹æ³•è¿”å›å€¼ä¸åŒ

å› ä¸ºStreamç±»å½“æ—¶è¿˜ä¸å­˜åœ¨ï¼Œè¿”å›å€¼è‚¯å®šä¸ä¼šæ˜¯æ–°å¢åŠ çš„`java.util.stream.Stream`

```java
public class Ex12 {

  public interface OldStream {

    int stream();
  }

  public static class OldColl extends ArrayList<Integer> implements OldStream {

    @Override
    public int stream() {
      return 1;
    }
  }
}
```

> 'stream()' in 'java.util.Collection' clashes with 'stream()' in 'xyz.quxiao.java8forimpatient.chap1.Ex12.OldStream'; attempting to use incompatible return type

// TODO è¿™æ˜¯å®šä¹‰ç±»æ–¹æ³•çš„é™åˆ¶

## äºŒè¿›åˆ¶çš„å…¼å®¹æ€§

## JARä¸­çš„é—ç•™ä»£ç æ˜¯å¦è¿˜èƒ½è¿è¡Œ